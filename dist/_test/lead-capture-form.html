
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test: Lead Capture Form</title>
    <script src="https://www.google.com/recaptcha/enterprise.js?render=CHANGE_ME_RECAPTCHA_SITEKEY" async defer></script>
    <link rel="stylesheet" href="../css/landing.css">

    <script src="../js/scripts.js" defer></script>

    <style>
        body { background-color: #f4f4f4; padding: 20px; }
        .test-wrapper { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); max-width: 800px; margin: 0 auto; }
        .test-header { text-align: center; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
    </style>
</head>
<body>
    <div class="test-wrapper">
        <div class="test-header">
            <h1>Test Mode: Lead Capture Form</h1>
            <p><a href="index.html">&larr; Back to Test Index</a></p>
        </div>
        <div class="test-content">
            <section class="lead-form-section" id="get-started">
    <div class="form-container">
        <h2>Test Lead Capture</h2>
        <p>Testing backend submission</p>

        <form id="lead-form" novalidate data-track-form="lead-submit" data-api-url="REPLACE_WITH_SAM_OUTPUT_API_URL" data-recaptcha-sitekey="CHANGE_ME_RECAPTCHA_SITEKEY">
            <div class="form-group-row">
                <div class="form-group">
                    <label for="first_name">First Name *</label>
                    <input type="text" id="first_name" name="first_name" required placeholder="Jane" aria-invalid="false" aria-describedby="first_name-error">
                    <div class="error-msg" id="first_name-error" aria-live="polite"></div>
                </div>
                <div class="form-group">
                    <label for="last_name">Last Name *</label>
                    <input type="text" id="last_name" name="last_name" required placeholder="Doe" aria-invalid="false" aria-describedby="last_name-error">
                    <div class="error-msg" id="last_name-error" aria-live="polite"></div>
                </div>
            </div>

            <div class="form-group">
                <label for="role">I am a... *</label>
                <select id="role" name="role" required aria-invalid="false" aria-describedby="role-error">
                    <option value="">Select Role...</option>
                    <option value="parent">Parent / Guardian</option>
                    <option value="student">Student</option>
                </select>
                <div class="error-msg" id="role-error" aria-live="polite"></div>
            </div>

            <div class="form-group">
                <label for="email">Email Address *</label>
                <input type="email" id="email" name="email" required placeholder="jane@example.com" aria-invalid="false" aria-describedby="email-error">
                <div class="error-msg" id="email-error" aria-live="polite"></div>
            </div>

            <div class="form-group">
                <label for="phone">Phone Number (Optional)</label>
                <input type="tel" id="phone" name="phone" placeholder="(613) 212-5989">
            </div>

            <div class="form-group">
                <label for="grade">Current Grade *</label>
                <select id="grade" name="grade" required aria-invalid="false" aria-describedby="grade-error">
                    <option value="">Select Grade...</option>
                    <option value="8">Grade 8</option>
                    <option value="9">Grade 9</option>
                    <option value="10">Grade 10</option>
                    <option value="11">Grade 11</option>
                    <option value="12">Grade 12</option>
                    <option value="adult">Adult Learner</option>
                </select>
                <div class="error-msg" id="grade-error" aria-live="polite"></div>
            </div>

            <div class="form-group">
                <label for="goal">Primary Goal *</label>
                <select id="goal" name="goal" required aria-invalid="false" aria-describedby="goal-error">
                    <option value="">Select Goal...</option>
                    <option value="university">University Acceptance</option>
                    <option value="college">College Acceptance</option>
                    <option value="catchup">Catch Up / Credit Recovery</option>
                    <option value="flexibility">Flexible Schedule</option>
                    <option value="other">Other</option>
                </select>
                <div class="error-msg" id="goal-error" aria-live="polite"></div>
            </div>

            <div class="checkbox-group">
                <input type="checkbox" id="consent" name="consent" required aria-invalid="false" aria-describedby="consent-error">
                <label for="consent">I consent to be contacted by Asynchronous Academy regarding educational programs.</label>
                <div class="error-msg" id="consent-error" aria-live="polite"></div>
            </div>
             <div class="form-group">
                 <div class="error-msg" aria-live="polite"></div>
             </div>

            <button type="submit" class="btn-primary" data-track-cta="form-submit">REQUEST INFO</button>
        </form>
    </div>
</section>
        </div>
    </div>

        <script>
            document.addEventListener("DOMContentLoaded", function() {
                const prefillData = {"first_name": "TestUser", "last_name": "Lead", "role": "student", "phone": "555-0199", "grade": "10", "goal": "university", "consent": true};
                console.log("Prefilling form with:", prefillData);

                for (const [key, value] of Object.entries(prefillData)) {
                    const inputs = document.querySelectorAll(`[name="${key}"], [id="${key}"]`);
                    inputs.forEach(input => {
                        if (input.type === 'checkbox' || input.type === 'radio') {
                            if (input.value === value.toString() || value === true) {
                                input.checked = true;
                            }
                        } else {
                            input.value = value;
                        }
                    });
                }
            });
        </script>

</body>
</html>
